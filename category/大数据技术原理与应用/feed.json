{
    "version": "https://jsonfeed.org/version/1",
    "title": "XYH",
    "subtitle": "",
    "icon": "http://www.xieyihui.top/images/favicon.ico",
    "description": "",
    "home_page_url": "http://www.xieyihui.top",
    "items": [
        {
            "id": "http://www.xieyihui.top/2020/11/11/computer-science/Big-data/week-6/",
            "url": "http://www.xieyihui.top/2020/11/11/computer-science/Big-data/week-6/",
            "title": "第6周 Hbase常用操作命令",
            "date_published": "2020-11-11T13:52:22.000Z",
            "content_html": "<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><div class=\"note info\">\n<p>以下为个人学习笔记</p>\n</div>\n<h1 id=\"课堂笔记\"><a class=\"anchor\" href=\"#课堂笔记\">#</a> 课堂笔记</h1>\n<h2 id=\"检查hadoop集群环境\"><a class=\"anchor\" href=\"#检查hadoop集群环境\">#</a> 检查 hadoop 集群环境</h2>\n<p>hadoop1 运行 <code>jps</code>  命令的截图<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/1.11.png\" alt=\"\" /><br />\n hadoop2 运行 <code>jps</code>  命令的截图<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/1.12.png\" alt=\"\" /><br />\n hadoop3 运行 <code>jps</code>  命令的截图<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/1.13.png\" alt=\"\" /></p>\n<h2 id=\"检查hbase集群环境\"><a class=\"anchor\" href=\"#检查hbase集群环境\">#</a> 检查 Hbase 集群环境</h2>\n<p>hadoop1 运行 jps 命令的截图：<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/5.7.png\" alt=\"\" /><br />\nhadoop2 运行 jps 命令的截图：<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/5.8.png\" alt=\"\" /><br />\nhadoop3 运行 jps 命令的截图：<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/5.9.png\" alt=\"\" /></p>\n<h2 id=\"hbase基本操作\"><a class=\"anchor\" href=\"#hbase基本操作\">#</a> Hbase 基本操作</h2>\n<h3 id=\"hbase-shell命令\"><a class=\"anchor\" href=\"#hbase-shell命令\">#</a> Hbase Shell 命令</h3>\n<p>在 hadoop1 主节点上进入 Hbase shell 模式<br />\n在终端执行命令： <code>hbase shell</code> <br />\n 启动成功如下：<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/6.1.png\" alt=\"\" /></p>\n<h3 id=\"显示hbase-shell-帮助文档\"><a class=\"anchor\" href=\"#显示hbase-shell-帮助文档\">#</a> 显示 HBase Shell 帮助文档</h3>\n<p>输入 <code>help</code>  并按 Enter 键，可以显示 HBase Shell 的基本使用信息<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/6.2.png\" alt=\"\" /></p>\n<h3 id=\"查看hbase状态\"><a class=\"anchor\" href=\"#查看hbase状态\">#</a> 查看 Hbase 状态</h3>\n<p>输入 <code>status</code> ，可以查看 Hbase 的状态<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/6.3.png\" alt=\"\" /></p>\n<h3 id=\"退出hbase-shell\"><a class=\"anchor\" href=\"#退出hbase-shell\">#</a> 退出 HBase Shell</h3>\n<p>使用 <code>quit</code>  命令，退出 HBase Shell 并且断开和集群的连接</p>\n<h3 id=\"hbase数据定义ddl操作\"><a class=\"anchor\" href=\"#hbase数据定义ddl操作\">#</a> hbase 数据定义（DDL）操作</h3>\n<ul>\n<li><strong>创建新表</strong><br />\n使用 create 命令来创建一个新的表。在创建的时候，必须指定表名和列族名。<br />\n命令： <code>create 'user', 'info '</code> <br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/6.4.png\" alt=\"\" /></li>\n<li><strong>列举表信息</strong><br />\n使用 list 命令，列出所有的表信息<br />\n命令： <code>list 'user'</code> <br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/6.5.png\" alt=\"\" /></li>\n<li><strong>获取表描述</strong><br />\n使用 describe 命令，显示表的相关信息<br />\n命令： <code>describe 'user'</code> <br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/6.6.png\" alt=\"\" /></li>\n<li><strong>检查表是否存在</strong><br />\n使用 exists 命令，判断表是否存在<br />\n命令： <code>exists 'user'</code> <br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/6.7.png\" alt=\"\" /></li>\n<li><strong>删除表</strong><br />\n删除表之前，先 disable 表，再使用 drop 命令实现删除表的功能<br />\n命令： <code>drop 'user</code> <br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/6.8.png\" alt=\"\" /></li>\n</ul>\n<h3 id=\"数据管理dml操作\"><a class=\"anchor\" href=\"#数据管理dml操作\">#</a> 数据管理（DML）操作</h3>\n<ul>\n<li><strong>向表中插入数据</strong><br />\n使用 put 命令，将数据插入表中<br />\n命令： <code>put 'user', 'row1', 'info:a', 'value1'</code> <br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/6.9.png\" alt=\"\" /></li>\n<li><strong>一次性扫描全表数据</strong><br />\n一种获取 HBase 数据的方法是扫描，使用 scan 命令来扫描表的数据。（可以限制扫描的范围）<br />\n命令： <code>scan 'user'</code> <br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/6.10.png\" alt=\"\" /></li>\n<li><strong>获取一个行数据</strong><br />\n使用 get 命令来获得某一行的数据<br />\n命令： <code>get 'user', 'row1'</code> <br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/6.11.png\" alt=\"\" /></li>\n<li><strong>禁用一个表</strong><br />\n如果你想要删除一个表或是修改它的设置，或者是其它的情况，都需要首先禁用该表。使用 disable 命令禁用表，enable 命令重新启用表。<br />\n禁用表命令： <code>disable 'user'</code> <br />\n 重新启用表命令： <code>enable 'user'</code> <br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/6.12.png\" alt=\"\" /></li>\n<li><strong>删除数据</strong>\n<ul>\n<li>删除行中的某个列值<br />\n语法： <code>delete &lt;table&gt;, &lt;rowkey&gt;,  &lt;family:column&gt; , &lt;timestamp&gt;</code> <br />\n 命令： <code>delete 'user','rowkey001','info:a'</code> <br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/6.13.png\" alt=\"\" /></li>\n<li>删除行<br />\n语法： <code>deleteall &lt;table&gt;, &lt;rowkey&gt;,  &lt;family:column&gt; , &lt;timestamp&gt;</code> <br />\n 命令： <code>deleteall 'user','row1'</code> <br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/6.14.png\" alt=\"\" /></li>\n<li>删除表中的所有数据<br />\n语法： <code>truncate &lt;table&gt;</code> <br />\n 命令： <code>truncate 'user'</code> <br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/6.15.png\" alt=\"\" /></li>\n</ul>\n</li>\n</ul>\n",
            "tags": [
                "计算机科学",
                "大数据技术原理与应用",
                "学习笔记",
                "大数据",
                "Hbase"
            ]
        },
        {
            "id": "http://www.xieyihui.top/2020/11/11/computer-science/Big-data/week-5/",
            "url": "http://www.xieyihui.top/2020/11/11/computer-science/Big-data/week-5/",
            "title": "第5周 Hbase集群环境部署",
            "date_published": "2020-11-11T13:15:20.000Z",
            "content_html": "<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><div class=\"note info\">\n<p>以下为个人学习笔记</p>\n</div>\n<h1 id=\"课堂笔记\"><a class=\"anchor\" href=\"#课堂笔记\">#</a> 课堂笔记</h1>\n<h2 id=\"检查环境hadoop集群环境\"><a class=\"anchor\" href=\"#检查环境hadoop集群环境\">#</a> 检查环境 hadoop 集群环境</h2>\n<p>hadoop1 运行 <code>jps</code>  命令的截图<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/1.11.png\" alt=\"\" /><br />\n hadoop2 运行 <code>jps</code>  命令的截图<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/1.12.png\" alt=\"\" /><br />\n hadoop3 运行 <code>jps</code>  命令的截图<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/1.13.png\" alt=\"\" /></p>\n<h2 id=\"安装hbase集群\"><a class=\"anchor\" href=\"#安装hbase集群\">#</a> 安装 Hbase 集群</h2>\n<h3 id=\"准备软件包\"><a class=\"anchor\" href=\"#准备软件包\">#</a> 准备软件包</h3>\n<p>下载好<span class=\"exturl\" data-url=\"aHR0cDovL2FyY2hpdmUuYXBhY2hlLm9yZy9kaXN0L2hiYXNlLzEuMi42Lw==\"> hbase-1.2.6</span> 的压缩包</p>\n<h3 id=\"进入软件包的目录解压安装压缩包将hbase安装包解压缩到opt目录下\"><a class=\"anchor\" href=\"#进入软件包的目录解压安装压缩包将hbase安装包解压缩到opt目录下\">#</a> 进入软件包的目录解压安装压缩包将 hbase 安装包解压缩到 /opt 目录下</h3>\n<p>在终端执行命令： <code>cd /opt/hadoop-package</code> <br />\n 在终端执行命令： <code>tar -zxvf hbase-1.2.6-bin.tar.gz -C /opt</code> <br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/5.1.png\" alt=\"\" /><br />\n 解压完成截图：<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/5.2.png\" alt=\"\" /></p>\n<h3 id=\"重命名\"><a class=\"anchor\" href=\"#重命名\">#</a> 重命名</h3>\n<ul>\n<li><strong>进入 /opt 目录下</strong><br />\n在终端执行命令： <code>cd /opt</code></li>\n<li><strong>重命名</strong><br />\n在终端执行命令： <code>mv hbase-1.2.6 hbase</code></li>\n</ul>\n<h3 id=\"修改hbase-sitexml配置文件\"><a class=\"anchor\" href=\"#修改hbase-sitexml配置文件\">#</a> 修改 hbase-site.xml 配置文件</h3>\n<ul>\n<li><strong>进入 conf 目录</strong><br />\n在终端执行命令： <code>cd /opt/hbase/conf/</code></li>\n<li><strong>修改 hbase-site.xml 文件</strong><br />\n在终端执行命令： <code>vim hbase-site.xml</code> <br />\n 在 <code>&lt;configuration&gt; &lt;/configuration&gt;</code>  中间添加下面代码：</li>\n</ul>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token operator\">&lt;</span>property<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token operator\">&lt;</span>name<span class=\"token operator\">></span>hbase.rootdir<span class=\"token operator\">&lt;</span>/name<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token operator\">&lt;</span>value<span class=\"token operator\">></span>hdfs://hadoop1:9000/hbase<span class=\"token operator\">&lt;</span>/value<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token operator\">&lt;</span>/property<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token operator\">&lt;</span>property<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token operator\">&lt;</span>name<span class=\"token operator\">></span>hbase.cluster.distributed<span class=\"token operator\">&lt;</span>/name<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token operator\">&lt;</span>value<span class=\"token operator\">></span>true<span class=\"token operator\">&lt;</span>/value<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token operator\">&lt;</span>/property<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token operator\">&lt;</span>property<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token operator\">&lt;</span>name<span class=\"token operator\">></span>hbase.zookeeper.quorum<span class=\"token operator\">&lt;</span>/name<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token operator\">&lt;</span>value<span class=\"token operator\">></span>hadoop1,hadoop2,hadoop<span class=\"token operator\"><span class=\"token file-descriptor important\">3</span>&lt;</span>/value<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token operator\">&lt;</span>/property<span class=\"token operator\">></span></pre></td></tr></table></figure><p>修改后的配置如下：<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/5.3.png\" alt=\"\" /></p>\n<h3 id=\"修改regionservers\"><a class=\"anchor\" href=\"#修改regionservers\">#</a> 修改 regionservers</h3>\n<p>在终端执行命令： <code>vim regionservers</code> <br />\n 在 regionservers 配置文件中删除 localhost 后添加下面代码:</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>hadoop2</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>hadoop3</pre></td></tr></table></figure><p>修改后的配置如下：<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/5.4.png\" alt=\"\" /></p>\n<h3 id=\"修改hbase-envsh\"><a class=\"anchor\" href=\"#修改hbase-envsh\">#</a> <span class=\"exturl\" data-url=\"aHR0cDovL3huLS1oYmFzZS1lbnYtejg5bno3OHAuc2g=\">修改 hbase-env.sh</span></h3>\n<p>在终端执行命令： <code>vim hbase-env.sh</code> <br />\n 在第二行加入下面两行代码</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">JAVA_HOME</span><span class=\"token operator\">=</span>/opt/jdk1.8.0_162/</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">HBASE_MANAGES_ZK</span><span class=\"token operator\">=</span>false</pre></td></tr></table></figure><p>修改好的配置截图：<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/5.5.png\" alt=\"\" /></p>\n<h3 id=\"将在配置文件同步到hadoop2和hadoop3上\"><a class=\"anchor\" href=\"#将在配置文件同步到hadoop2和hadoop3上\">#</a> 将在配置文件同步到 hadoop2 和 hadoop3 上</h3>\n<p>同步到 hadoop2 上：<br />\n在终端执行命令： <code>scp -r /opt/hbase/ hadoop2:/opt/</code> <br />\n 同步到 hadoop3 上：<br />\n在终端执行命令： <code>scp -r /opt/hbase/ hadoop3:/opt/</code></p>\n<h2 id=\"启动hbase集群\"><a class=\"anchor\" href=\"#启动hbase集群\">#</a> 启动 hbase 集群</h2>\n<h3 id=\"启动\"><a class=\"anchor\" href=\"#启动\">#</a> 启动</h3>\n<p>在 hadoop1 上进入到 hbase 的 bin 目录<br />\n在终端执行命令： <code>cd /opt/hbase/bin/</code> <br />\n 启动 hbase<br />\n 在终端执行命令： <code>./start-hbase.sh</code> <br />\n 启动过程：<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/5.6.png\" alt=\"\" /></p>\n<h3 id=\"检查是否成功\"><a class=\"anchor\" href=\"#检查是否成功\">#</a> 检查是否成功</h3>\n<p>hadoop1 运行 jps 命令的截图：<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/5.7.png\" alt=\"\" /><br />\nhadoop2 运行 jps 命令的截图：<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/5.8.png\" alt=\"\" /><br />\nhadoop3 运行 jps 命令的截图：<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/5.9.png\" alt=\"\" /><br />\n至此，Hbase-1.2.6 已成功安装部署啦</p>\n",
            "tags": [
                "计算机科学",
                "大数据技术原理与应用",
                "学习笔记",
                "大数据",
                "教程",
                "Hbase"
            ]
        },
        {
            "id": "http://www.xieyihui.top/2020/11/11/computer-science/Big-data/week-4/",
            "url": "http://www.xieyihui.top/2020/11/11/computer-science/Big-data/week-4/",
            "title": "第4周 Zookeeper常用操作命令",
            "date_published": "2020-11-11T12:23:38.000Z",
            "content_html": "<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><div class=\"note info\">\n<p>以下为个人学习笔记</p>\n</div>\n<h1 id=\"课堂笔记\"><a class=\"anchor\" href=\"#课堂笔记\">#</a> 课堂笔记</h1>\n<h2 id=\"检查环境hadoop集群环境\"><a class=\"anchor\" href=\"#检查环境hadoop集群环境\">#</a> 检查环境 hadoop 集群环境</h2>\n<p>hadoop1 运行 <code>jps</code>  命令的截图<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/1.11.png\" alt=\"\" /><br />\n hadoop2 运行 <code>jps</code>  命令的截图<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/1.12.png\" alt=\"\" /><br />\n hadoop3 运行 <code>jps</code>  命令的截图<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/1.13.png\" alt=\"\" /></p>\n<h2 id=\"检查环境zookeeper集群环境\"><a class=\"anchor\" href=\"#检查环境zookeeper集群环境\">#</a> 检查环境 zookeeper 集群环境</h2>\n<p>在 hadoop1 查看 zookeeper 状态<br />\n在终端执行命令： <code>zkServer.sh status</code> <br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/4.1.png\" alt=\"\" /><br />\n 在 hadoop2 查看 zookeeper 状态<br />\n在终端执行命令： <code>zkServer.sh status</code> <br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/4.2.png\" alt=\"\" /><br />\n 在 hadoop3 查看 zookeeper 状态<br />\n在终端执行命令： <code>zkServer.sh status</code> <br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/4.3.png\" alt=\"\" /></p>\n<h2 id=\"zookeeper常见命令\"><a class=\"anchor\" href=\"#zookeeper常见命令\">#</a> Zookeeper 常见命令</h2>\n<h3 id=\"打开客户端\"><a class=\"anchor\" href=\"#打开客户端\">#</a> 打开客户端</h3>\n<p>在终端执行命令：<span class=\"exturl\" data-url=\"aHR0cDovL3prQ2xpLnNo\">zkCli.sh</span> -server hadoop1:2181<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/4.4.png\" alt=\"\" /><br />\n 成功连接的截图：<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/4.5.png\" alt=\"\" /></p>\n<h3 id=\"创建zookeeper节点\"><a class=\"anchor\" href=\"#创建zookeeper节点\">#</a> 创建 Zookeeper 节点</h3>\n<p>使用 create 命令，可以创建一个 Zookeeeper 节点<br />\n <code>create [-s] [-e] path data acl</code> <br />\n 其中，-s 或 - e 分别指定节点特性，顺序或临时节点，若不指定，则表示持久节点；acl 用来进行权限控制。</p>\n<ul>\n<li><strong>创建顺序节点</strong><br />\n使用 <code>create -s /zk-test 123</code>  命令创建 zk-test 顺序节点<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/4.6.png\" alt=\"\" /></li>\n<li><strong>创建临时节点</strong><br />\n使用 <code>create -e /zk-temp 123</code>  命令创建 zk-temp 临时节点<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/4.7.png\" alt=\"\" /></li>\n<li><strong>创建永久节点</strong><br />\n使用 <code>create /zk-permanent 123</code>  命令创建 zk-permanent 永久节点<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/4.8.png\" alt=\"\" /></li>\n</ul>\n<h3 id=\"读取节点\"><a class=\"anchor\" href=\"#读取节点\">#</a> 读取节点</h3>\n<p>与读取相关的命令有 ls 命令和 get 命令，ls 命令可以列出 Zookeeper 指定节点下的所有子节点，只能查看指定节点下的第一级的所有子节点；get 命令可以获取 Zookeeper 指定节点的数据内容和属性信息。<br />\n用法：<br />\n <code>ls path [watch]</code> <br />\n <code>get path [watch]</code> <br />\n 如果想获取根节点下面的所有子节点，使用 <code>ls /</code>  命令即可<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/4.9.png\" alt=\"\" /><br />\n如果想获取根节点数据内容和属性信息，使用 <code>get /</code>  命令即可<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/4.10.png\" alt=\"\" /><br />\n如果想获取 /zk-permanent 的数据内容和属性，可使用 <code>get /zk-permanent</code>  命令<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/4.11.png\" alt=\"\" /></p>\n<h3 id=\"更新节点\"><a class=\"anchor\" href=\"#更新节点\">#</a> 更新节点</h3>\n<p>使用 set 命令，可以更新指定节点的数据内容<br />\n用法： <code>set path data [version]</code> <br />\n 其中，data 就是要更新的新内容，version 表示数据版本，<br />\n如将 /zk-permanent 节点的数据更新为 456，可以使用如下命令： <code>set /zk-permanent 456</code> <br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/4.12.png\" alt=\"\" /></p>\n<h3 id=\"删除节点\"><a class=\"anchor\" href=\"#删除节点\">#</a> 删除节点</h3>\n<p>使用 delete 命令可以删除 Zookeeper 上的指定节点<br />\n用法： <code>delete path [version]</code> <br />\n 其中 version 也是表示数据版本，使用 <code>delete /zk-permanent</code>  命令即可删除 /zk-permanent 节点<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/4.13.png\" alt=\"\" /><br />\n<span class=\"red\">注：</span><br />\n若删除节点存在子节点，那么无法删除该节点，必须先删除子节点，再删除父节点。</p>\n<h3 id=\"退出客户端\"><a class=\"anchor\" href=\"#退出客户端\">#</a> 退出客户端</h3>\n<p>使用 <code>quit</code>  命令退出客户端<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/4.14.png\" alt=\"\" /></p>\n",
            "tags": [
                "计算机科学",
                "大数据技术原理与应用",
                "学习笔记",
                "大数据",
                "Zookeeper"
            ]
        },
        {
            "id": "http://www.xieyihui.top/2020/11/11/computer-science/Big-data/week-3/",
            "url": "http://www.xieyihui.top/2020/11/11/computer-science/Big-data/week-3/",
            "title": "第3周 Zookeeper集群环境部署",
            "date_published": "2020-11-11T09:30:40.000Z",
            "content_html": "<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><div class=\"note info\">\n<p>以下为个人学习笔记</p>\n</div>\n<h1 id=\"课堂笔记\"><a class=\"anchor\" href=\"#课堂笔记\">#</a> 课堂笔记</h1>\n<h2 id=\"检查环境hadoop集群环境\"><a class=\"anchor\" href=\"#检查环境hadoop集群环境\">#</a> 检查环境 hadoop 集群环境</h2>\n<p>hadoop1 运行 <code>jps</code>  命令的截图<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/1.11.png\" alt=\"\" /><br />\n hadoop2 运行 <code>jps</code>  命令的截图<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/1.12.png\" alt=\"\" /><br />\n hadoop3 运行 <code>jps</code>  命令的截图<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/1.13.png\" alt=\"\" /></p>\n<h2 id=\"安装zookeeper集群\"><a class=\"anchor\" href=\"#安装zookeeper集群\">#</a> 安装 Zookeeper 集群</h2>\n<h3 id=\"软件包准备\"><a class=\"anchor\" href=\"#软件包准备\">#</a> 软件包准备</h3>\n<p>下载好<span class=\"exturl\" data-url=\"aHR0cDovL2FyY2hpdmUuYXBhY2hlLm9yZy9kaXN0L3pvb2tlZXBlci96b29rZWVwZXItMy40LjEwLw==\"> zookeeper-3.4.10</span> 的</p>\n<h3 id=\"进入软件包的目录下解压安装压缩包将zookeeper安装包解压缩到opt目录下\"><a class=\"anchor\" href=\"#进入软件包的目录下解压安装压缩包将zookeeper安装包解压缩到opt目录下\">#</a> 进入软件包的目录下解压安装压缩包将 zookeeper 安装包解压缩到 /opt 目录下</h3>\n<p>在终端执行命令： <code>cd /opt/hadoop-package</code> <br />\n 在终端执行命令： <code>tar -zxvf zookeeper-3.4.10.tar.gz -C /opt/</code> <br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/3.1.1.png\" alt=\"\" /><br />\n 解压完成截图：<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/3.1.2.png\" alt=\"\" /></p>\n<h3 id=\"准备文件\"><a class=\"anchor\" href=\"#准备文件\">#</a> 准备文件</h3>\n<ul>\n<li><strong>进入 zookeeper 配置文件目录</strong><br />\n在终端执行命令： <code>cd /opt/zookeeper-3.4.10/conf</code></li>\n<li><strong>将 zoo_sample.cfg 配置文件复制一份并重命名为 zoo.cfg</strong><br />\n 在终端执行命令： <code>cp zoo_sample.cfg zoo.cfg</code></li>\n<li><strong>创建存放数据的文件夹</strong><br />\n在终端执行命令： <code>mkdir /opt/zookeeper-3.4.10/data</code></li>\n<li><strong>创建 myid 文件，并加入数字 1 （hadoop1 主节点为 1、hadoop2 从节点为 2、hadoop3 从节点为 3）</strong><br />\n在终端执行命令： <code>vim /opt/zookeeper-3.4.10/data/myid</code></li>\n</ul>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">#hadoop1 的 myid</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token number\">1</span></pre></td></tr></table></figure><h3 id=\"修改zoocfg配置文件\"><a class=\"anchor\" href=\"#修改zoocfg配置文件\">#</a> 修改 zoo.cfg 配置文件</h3>\n<p>在终端执行命令： <code>vim /opt/zookeeper-3.4.10/conf/zoo.cfg</code> <br />\n 将配置文件中 dataDir 的路径改为 <code>/opt/zookeeper-3.4.10/data</code> <br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/3.2.1.png\" alt=\"\" /><br />\n 在配置文件最下面加入以下参数：</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>server.1<span class=\"token operator\">=</span>hadoop1:2888:3888</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>server.2<span class=\"token operator\">=</span>hadoop2:2888:3888</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>server.3<span class=\"token operator\">=</span>hadoop3:2888:3888</pre></td></tr></table></figure><p>修改好的配置截图：<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/3.2.2.png\" alt=\"\" /><br />\n<strong>zoo.cfg 各语句的含义</strong><br />\n <code>tickTime</code> ：服务器与客户端之间交互的基本时间单元（ms）<br />\n <code>initLimit</code> ：允许 follower 连接并同步到 leader 的初始化时间，它以 tickTime 的倍数来表示。当超过设置倍数的 tickTime 时间，则连接失败<br />\n <code>syncLimit</code> ：Leader 服务器与 follower 服务器之间信息同步允许的最大时间间隔，如果超过次间隔，默认 follower 服务器与 leader 服务器之间断开链接<br />\n <code>dataDir</code> ：保存 zookeeper 数据路径<br />\n <code>clientPort</code> ：客户端访问 zookeeper 时经过服务器端时的端口号</p>\n<h3 id=\"同步配置文件到hadoop2和hadoop3上\"><a class=\"anchor\" href=\"#同步配置文件到hadoop2和hadoop3上\">#</a> 同步配置文件到 hadoop2 和 hadoop3 上</h3>\n<ul>\n<li><strong>将配置文件同步到 hadoop2 上</strong><br />\n在终端执行命令： <code>scp -r /opt/zookeeper-3.4.10/ root@hadoop2:/opt</code></li>\n<li><strong>将配置文件同步到 hadoop3 上</strong><br />\n在终端执行命令： <code>scp -r /opt/zookeeper-3.4.10/ root@hadoop3:/opt</code></li>\n</ul>\n<h3 id=\"修改hadoop2和hadoop3上的myid\"><a class=\"anchor\" href=\"#修改hadoop2和hadoop3上的myid\">#</a> 修改 hadoop2 和 hadoop3 上的 myid</h3>\n<p>在 hadoop2 上将 myid 修改为 2<br />\n 在终端执行命令： <code>vim /opt/zookeeper-3.4.10/data/myid</code> <br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/3.3.1.png\" alt=\"\" /></p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">#hadoop2 的 myid</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token number\">2</span></pre></td></tr></table></figure><p>在 hadoop3 上将 myid 修改为 3<br />\n 在终端执行命令： <code>vim /opt/zookeeper-3.4.10/data/myid</code> <br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/3.3.2.png\" alt=\"\" /></p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">#hadoop3 的 myid</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token number\">3</span></pre></td></tr></table></figure><h2 id=\"启动zookeeper集群并测试\"><a class=\"anchor\" href=\"#启动zookeeper集群并测试\">#</a> 启动 zookeeper 集群并测试</h2>\n<h3 id=\"分别启动hadoop1-hadoop2-hadoop3节点的zookeeper集群命\"><a class=\"anchor\" href=\"#分别启动hadoop1-hadoop2-hadoop3节点的zookeeper集群命\">#</a> 分别启动 hadoop1、hadoop2、hadoop3 节点的 zookeeper 集群命</h3>\n<p>在 hadoop1 启动 zookeeper<br />\n 在终端执行命令： <code>zkServer.sh start</code> <br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/3.4.1.png\" alt=\"\" /><br />\n 在 hadoop2 启动 zookeeper<br />\n 在终端执行命令： <code>zkServer.sh start</code> <br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/3.4.2.png\" alt=\"\" /><br />\n 在 hadoop3 启动 zookeeper<br />\n 在终端执行命令： <code>zkServer.sh start</code> <br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/3.4.3.png\" alt=\"\" /></p>\n<h3 id=\"查看启动成功命令\"><a class=\"anchor\" href=\"#查看启动成功命令\">#</a> 查看启动成功命令</h3>\n<p>通过 <code>zkServer.sh status</code>  命令可以查看启动的状态<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/3.5.png\" alt=\"\" /><br />\n至此，zookeeper-3.4.10 已经成功安装部署啦</p>\n",
            "tags": [
                "计算机科学",
                "大数据技术原理与应用",
                "学习笔记",
                "大数据",
                "教程",
                "Zookeeper"
            ]
        },
        {
            "id": "http://www.xieyihui.top/2020/11/11/computer-science/Big-data/week-2/",
            "url": "http://www.xieyihui.top/2020/11/11/computer-science/Big-data/week-2/",
            "title": "第2周 HDFS文件系统常用操作命令",
            "date_published": "2020-11-11T08:46:58.000Z",
            "content_html": "<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><div class=\"note info\">\n<p>以下为个人学习笔记</p>\n</div>\n<h1 id=\"课堂笔记\"><a class=\"anchor\" href=\"#课堂笔记\">#</a> 课堂笔记</h1>\n<h2 id=\"检查环境hadoop集群环境\"><a class=\"anchor\" href=\"#检查环境hadoop集群环境\">#</a> 检查环境 hadoop 集群环境</h2>\n<p>hadoop1 运行 <code>jps</code>  命令的截图<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/1.11.png\" alt=\"\" /><br />\n hadoop2 运行 <code>jps</code>  命令的截图<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/1.12.png\" alt=\"\" /><br />\n hadoop3 运行 <code>jps</code>  命令的截图<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/1.13.png\" alt=\"\" /></p>\n<h2 id=\"hdfs基础命令\"><a class=\"anchor\" href=\"#hdfs基础命令\">#</a> HDFS 基础命令</h2>\n<h3 id=\"-mkdir命令\"><a class=\"anchor\" href=\"#-mkdir命令\">#</a> -mkdir 命令</h3>\n<p>功能：在 hdfs 上创建文件夹<br />\n操作：在 hdfs 上创建名为 test1 的文件夹<br />\n在终端执行命令： <code>hdfs dfs -mkdir /test1</code> <br />\n 操作执行截图：<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/2.1.png\" alt=\"\" /></p>\n<h3 id=\"-ls命令\"><a class=\"anchor\" href=\"#-ls命令\">#</a> -ls 命令</h3>\n<p>功能：显示目录信息<br />\n操作：显示 hdfs 根目录的信息<br />\n在终端执行命令： <code>hdfs dfs -ls /</code> <br />\n 操作执行截图：<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/2.2.png\" alt=\"\" /></p>\n<h3 id=\"-rm命令\"><a class=\"anchor\" href=\"#-rm命令\">#</a> -rm 命令</h3>\n<p>功能：删除文件或文件夹<br />\n注意：如果删除的文件夹下面还有文件就必须先把子文件删除，否则删除不成功<br />\n操作：删除根目录下的 test1 文件夹<br />\n在终端执行命令： <code>hdfs dfs -rm -r /test1</code> <br />\n 操作执行截图：<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/2.3.png\" alt=\"\" /></p>\n<h3 id=\"-mv命令\"><a class=\"anchor\" href=\"#-mv命令\">#</a> -mv 命令</h3>\n<p>功能：在 hdfs 目录中移动文件或重命名文件<br />\n操作 1：创建 stu1、stu2 文件夹，并查看创建好的文件夹<br />\n在终端执行命令： <code>hdfs dfs -mkdir /stu1</code> <br />\n 在终端执行命令： <code>hdfs dfs -mkdir /stu2</code> <br />\n 在终端执行命令： <code>hdfs dfs -ls /</code> <br />\n 操作 1 执行截图：<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/2.4.1.png\" alt=\"\" /><br />\n操作 2：在 stu1 中创建一个名为 q.txt 的文件夹并查看 stu1 的文件信息<br />\n在终端执行命令： <code>hdfs dfs -mkdir /stu1/q.txt</code> <br />\n 在终端执行命令： <code>hdfs dfs -ls /stu1</code> <br />\n 操作 2 执行截图：<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/2.4.2.png\" alt=\"\" /><br />\n操作 3：将 stu1 文件夹中的 q.txt 文件夹移动到 stu2 文件夹下，执行后查看 stu1 和 stu2 文件夹下的内容<br />\n在终端执行命令： <code>hdfs dfs -mv /stu1/q.txt /stu2</code> <br />\n 在终端执行命令： <code>hdfs dfs -ls /stu1</code> <br />\n 在终端执行命令： <code>hdfs dfs -ls /stu2</code> <br />\n 操作 3 执行截图：<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/2.4.3.png\" alt=\"\" /><br />\n操作 4：将 stu2 下的 q.txt 文件夹重命名为 qqq.txt，执行后查看 stu2 文件夹下的文件信息验证是否重命名成功<br />\n在终端执行命令： <code>hdfs dfs -mv /stu2/q.txt /stu2/qqq.txt</code> <br />\n 在终端执行命令： <code>hdfs dfs -ls /stu2</code> <br />\n 操作 4 执行截图：<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/2.4.4.png\" alt=\"\" /></p>\n<h3 id=\"-cp命令\"><a class=\"anchor\" href=\"#-cp命令\">#</a> -cp 命令</h3>\n<p>功能：从 hdfs 的一个路径复制 hdfs 的另一个路径<br />\n操作：将 stu2 文件夹中的 qqq.txt 文件夹复制到 hdfs 根目录下，并查看根目录下是否有 qqq.txt 文件夹<br />\n在终端执行命令： <code>hdfs dfs -cp /stu2/qqq.txt /</code> <br />\n 在终端执行命令： <code>hdfs dfs -ls /</code> <br />\n 操作执行截图：<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/2.5.png\" alt=\"\" /></p>\n<h3 id=\"-get命令\"><a class=\"anchor\" href=\"#-get命令\">#</a> -get 命令</h3>\n<p>功能：从 hdfs 复制到本地<br />\n操作：将 hdfs 上 stu2 文件夹下的 qqq.txt 文件夹复制到 hadoop1 本地的 /opt 目录下，并进入 /opt 下查看是否复制成功<br />\n在终端执行命令： <code>hdfs dfs -get /stu2/qqq.txt /opt</code> <br />\n 在终端执行命令： <code>cd /opt/</code> <br />\n 在终端执行命令： <code>ls</code> <br />\n 操作执行截图：<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/2.6.png\" alt=\"\" /></p>\n<h3 id=\"-put命令\"><a class=\"anchor\" href=\"#-put命令\">#</a> -put 命令</h3>\n<p>功能：从本地文件系统中复制文件到 hdfs 文件系统中<br />\n操作 1：将本地文件系统中 /root 目录下的 iris.data 文件复制到 hdfs 的 stu1 文件夹下，并查看是否复制成功<br />\n在终端执行命令： <code>hdfs dfs -put /root/iris.data /stu1</code> <br />\n 操作 1 执行截图：<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/2.7.1.png\" alt=\"\" /><br />\n在终端执行命令： <code>hdfs dfs -ls /stu1</code> <br />\n 操作 2 执行截图：<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/2.7.2.png\" alt=\"\" /></p>\n<h3 id=\"-df命令\"><a class=\"anchor\" href=\"#-df命令\">#</a> -df 命令</h3>\n<p>功能：统计文件系统的可用空间信息<br />\n操作 1：统计 hdfs 文件系统的可用信息<br />\n在终端执行命令： <code>hdfs dfs -df -h /</code> <br />\n 操作 1 执行截图：<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/2.8.png\" alt=\"\" /></p>\n<h3 id=\"-du命令\"><a class=\"anchor\" href=\"#-du命令\">#</a> -du 命令</h3>\n<p>功能：统计一个指定目录下的文件节点数量<br />\n操作 1：统计 hdfs 文件系统中 stu1 文件夹下的文件节点数量<br />\n在终端执行命令： <code>hdfs dfs -du /stu1</code> <br />\n 操作 1 执行截图：<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/2.9.png\" alt=\"\" /></p>\n<h3 id=\"-help查看帮助命令\"><a class=\"anchor\" href=\"#-help查看帮助命令\">#</a> -help 查看帮助命令</h3>\n<p>功能：输出这个命令的参数<br />\n在终端执行命令： <code>hdfs dfs -help/</code> <br />\n 操作执行截图：<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/2.10.1.png\" alt=\"\" /><br />\n在终端执行命令：hdfs dfs -usage/<br />\n 操作执行截图：<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/2.10.2.png\" alt=\"\" /></p>\n<h3 id=\"文件权限管理\"><a class=\"anchor\" href=\"#文件权限管理\">#</a> 文件权限管理</h3>\n<p>功能：文件权限管理<br />\n操作：将 stu1 文件夹下的 iris.data 文件权限修改为 777，并查看修改结果<br />\n在终端执行命令： <code>hdfs dfs -chmod 777 /stu1/iris.data</code> <br />\n 在终端执行命令： <code>hdfs dfs -ls /</code> <br />\n 操作执行截图：<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/2.11.png\" alt=\"\" /></p>\n<h3 id=\"查看具体文件\"><a class=\"anchor\" href=\"#查看具体文件\">#</a> 查看具体文件</h3>\n<p>功能：查看文件内容<br />\n操作：查看 stu1 文件夹下的 iris.data 文件的内容<br />\n在终端执行命令： <code>hdfs dfs -cat /stu1/iris.data</code> <br />\n 操作执行截图：<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/2.12.png\" alt=\"\" /></p>\n",
            "tags": [
                "计算机科学",
                "大数据技术原理与应用",
                "学习笔记",
                "大数据",
                "HDFS"
            ]
        },
        {
            "id": "http://www.xieyihui.top/2020/11/08/computer-science/Big-data/week-1/",
            "url": "http://www.xieyihui.top/2020/11/08/computer-science/Big-data/week-1/",
            "title": "第1周 Hadoop3.1.0集群环境部署",
            "date_published": "2020-11-08T02:54:33.000Z",
            "content_html": "<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><div class=\"note info\">\n<p>以下为个人学习笔记和习题整理</p>\n</div>\n<h1 id=\"课堂笔记\"><a class=\"anchor\" href=\"#课堂笔记\">#</a> 课堂笔记</h1>\n<h2 id=\"准备主机环境\"><a class=\"anchor\" href=\"#准备主机环境\">#</a> 准备主机环境</h2>\n<h3 id=\"安装虚拟机\"><a class=\"anchor\" href=\"#安装虚拟机\">#</a> 安装虚拟机</h3>\n<p>VMware 下载地址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cudm13YXJlLmNvbS9wcm9kdWN0cy93b3Jrc3RhdGlvbi1wcm8vd29ya3N0YXRpb24tcHJvLWV2YWx1YXRpb24uaHRtbA==\">https://www.vmware.com/products/workstation-pro/workstation-pro-evaluation.html</span><br />\n 系统 ios：<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY2VudG9zLm9yZy9kb3dubG9hZC8=\">https://www.centos.org/download/</span><br />\n 基本上都是傻瓜式默认安装即可。</p>\n<h3 id=\"网络配置\"><a class=\"anchor\" href=\"#网络配置\">#</a> 网络配置</h3>\n<p><img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/1.1.png\" alt=\"\" /><br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/1.2.png\" alt=\"\" /><br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/1.3.png\" alt=\"\" /><br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/1.4.png\" alt=\"\" /><br />\n应用确定后，运行虚拟机，打开终端：</p>\n<ul>\n<li>1. 查看网卡  <code>ip addr</code> <br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/1.5.png\" alt=\"\" /></li>\n<li>2. 进入 /etc/sysconfig/network-scripts/ 下查看  <code>cd /etc/sysconfig/network-scripts/</code> <br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/1.6.png\" alt=\"\" /></li>\n<li>3. 编辑 ifcfg-ens33 文件  <code>vim /etc/sysconfig/network-scripts/ifcfg-ens33</code> <br />\n 将原内容修改成</li>\n</ul>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token assign-left variable\">TYPE</span><span class=\"token operator\">=</span>Ethernet</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token assign-left variable\">PROXY_METHOD</span><span class=\"token operator\">=</span>none</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token assign-left variable\">BROWSER_ONLY</span><span class=\"token operator\">=</span>no</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token comment\">#BOOTPROTO=dhcp</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token assign-left variable\">DEFROUTE</span><span class=\"token operator\">=</span>yes</pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token assign-left variable\">IPV4_FAILURE_FATAL</span><span class=\"token operator\">=</span>no</pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token assign-left variable\">IPV6INIT</span><span class=\"token operator\">=</span>yes</pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token assign-left variable\">IPV6_AUTOCONF</span><span class=\"token operator\">=</span>yes</pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token assign-left variable\">IPV6_DEFROUTE</span><span class=\"token operator\">=</span>yes</pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token assign-left variable\">IPV6_FAILURE_FATAL</span><span class=\"token operator\">=</span>no</pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token assign-left variable\">IPV6_ADDR_GEN_MODE</span><span class=\"token operator\">=</span>stable-privacy</pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token assign-left variable\">NAME</span><span class=\"token operator\">=</span>ens33</pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token assign-left variable\">UUID</span><span class=\"token operator\">=</span>c500a478-a621-42d4-b50e-1bd710003939</pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token assign-left variable\">DEVICE</span><span class=\"token operator\">=</span>ens33</pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token comment\">#ONBOOT=no</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token assign-left variable\">IPV6_PRIVACY</span><span class=\"token operator\">=</span>no</pre></td></tr><tr><td data-num=\"17\"></td><td><pre></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token comment\">#static assignment</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token assign-left variable\">NM_CONTROLLED</span><span class=\"token operator\">=</span>no <span class=\"token comment\">#表示该接口将通过该配置文件进行设置，而不是通过网络管理器进行管理</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token assign-left variable\">ONBOOT</span><span class=\"token operator\">=</span>yes <span class=\"token comment\">#开机启动</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token assign-left variable\">BOOTPROTO</span><span class=\"token operator\">=</span>static <span class=\"token comment\">#静态 IP</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token assign-left variable\">IPADDR</span><span class=\"token operator\">=</span><span class=\"token number\">192.168</span>.43.177 <span class=\"token comment\">#本机地址</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token assign-left variable\">NETMASK</span><span class=\"token operator\">=</span><span class=\"token number\">255.255</span>.255.0 <span class=\"token comment\">#子网掩码</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token assign-left variable\">GATEWAY</span><span class=\"token operator\">=</span><span class=\"token number\">192.168</span>.43.2 <span class=\"token comment\">#默认网关</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token assign-left variable\">DNS1</span><span class=\"token operator\">=</span><span class=\"token number\">192.168</span>.43.2</pre></td></tr><tr><td data-num=\"26\"></td><td><pre><span class=\"token assign-left variable\">DNS</span><span class=\"token operator\">=</span><span class=\"token number\">8.8</span>.8.8</pre></td></tr></table></figure><p>保存退出： <code>:wq</code></p>\n<ul>\n<li>4. 重启网络服务  <code>service network restart</code> <br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/1.7.png\" alt=\"\" /></li>\n<li>5. 查看 ip 信息  <code>ifconfig</code> <br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/1.8.png\" alt=\"\" /></li>\n<li>ping 一下百度，看看是否配置成功  <code>ping www.baidu.com</code> <br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/1.9.png\" alt=\"\" /></li>\n</ul>\n<h3 id=\"更改主机名称\"><a class=\"anchor\" href=\"#更改主机名称\">#</a> 更改主机名称</h3>\n<ul>\n<li>修改主机名文件（重启永久生效）  <code>vim /etc/sysconfig/network</code> <br />\n 按照同样的方法设置两个节点的 ip 和主机名<br />\n hadoop1 为主节点，hadoop2、hadoop3 为从节点</li>\n</ul>\n<h3 id=\"建立主机名和ip的映射\"><a class=\"anchor\" href=\"#建立主机名和ip的映射\">#</a> 建立主机名和 ip 的映射</h3>\n<ul>\n<li>1. 建立映射  <code>vim /etc/hosts</code> <br />\n 在末尾添加三条记录</li>\n</ul>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>hadoop1\thadoop1的ip</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>hadoop2\thadoop2的ip</pre></td></tr><tr><td data-num=\"3\"></td><td><pre>hadoop3\thadoop3的ip</pre></td></tr></table></figure><ul>\n<li>2. 将映射关系同步到其它两台虚拟机上<br />\n <code>scp -r /etc/hosts root@hadoop2:/etc</code> <br />\n <code>scp -r /etc/hosts root@hadoop3:/etc</code></li>\n</ul>\n<h3 id=\"关闭防火墙\"><a class=\"anchor\" href=\"#关闭防火墙\">#</a> 关闭防火墙</h3>\n<p>关闭防火墙： <code>systemctl stop firewalld.service</code></p>\n<h3 id=\"配置ssh免密登录\"><a class=\"anchor\" href=\"#配置ssh免密登录\">#</a> 配置 ssh 免密登录</h3>\n<ul>\n<li>1. 更新 SSH  <code>sudo apt-get install openssh-server</code> <br />\n 在安装 SSH 过程中，如果提示问 “Do you want to continue?”，请输入 “Y”。<br />\n安装好后，在终端中输入 “ssh  localhost” 需要输入密码才能访问。</li>\n<li>2. 配置 SSH<br />\n (1)、进入文件  <code>cd ~/.ssh/</code>         # 若没有该目录，请先执行一次 ssh localhost<br />\n (2)、生成公钥  <code>ssh-keygen -t rsa</code>     # 会有提示，都按回车即可<br />\n (3)、授权  <code>cat ./id_rsa.pub &gt;&gt; ./authorized_keys</code>   # 加入授权<br />\n再次，在终端中输入 “ssh  localhost” 无需密码直接登录，输入 exit 可以退出 ssh 登录。</li>\n<li>3. 远程发送公钥同步到 haddop2 和 hadoop3 上<br />\n <code>scp ~/.ssh/id_rsa.pub root@hadoop2:~/.ssh/</code> <br />\n <code>scp ~/.ssh/id_rsa.pub root@hadoop3:~/.ssh/</code></li>\n<li>4. 依次进入 hadoop2、hadoop3 中进行授权操作  <code>cat ./id_rsa.pub &gt;&gt; ./authorized_keys</code></li>\n</ul>\n<h3 id=\"安装jdk\"><a class=\"anchor\" href=\"#安装jdk\">#</a> 安装 JDK</h3>\n<ul>\n<li>1. 官网下载 jdk:<span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cub3JhY2xlLmNvbS9qYXZhL3RlY2hub2xvZ2llcy9qYXZhc2UvamF2YXNlLWpkazgtZG93bmxvYWRzLmh0bWw=\">https://www.oracle.com/java/technologies/javase/javase-jdk8-downloads.html</span></li>\n<li>2. 使用 tar 解压文件到 /opt 目录在  <code>tar -zxvf jdk-8u161-linux-x64.tar.gz -C /opt/</code></li>\n<li>3. 查看是否安装成功  <code>./java -version</code></li>\n<li>4. 配置环境变量 PATH  <code>vim etc/ptofile</code> <br />\n 在最末尾添加四行</li>\n</ul>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">JAVA_HOME</span><span class=\"token operator\">=</span>/opt/jdk1.8.0_162\t<span class=\"token comment\">#路径因人而异，要填入自己的路径</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">JRE_HOME</span><span class=\"token operator\">=</span><span class=\"token variable\">$JAVA_HOME</span>/jre</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">CLASSPATH</span><span class=\"token operator\">=</span>.:<span class=\"token variable\">$JAVA_HOME</span>/lib</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\"><span class=\"token environment constant\">PATH</span></span><span class=\"token operator\">=</span><span class=\"token environment constant\">$PATH</span><span class=\"token builtin class-name\">:</span><span class=\"token variable\">$JAVA_HOME</span>/bin</pre></td></tr></table></figure><ul>\n<li>5. 使环境变量立刻生效  <code>source /etc/profile</code></li>\n<li>6. 同步 hadoop1 主节点的配置到 hadoop2 和 hadoop3 上<br />\n <code>scp -r /opt/jdk1.8.0_162 root@hadoop2:/opt/</code> <br />\n <code>scp -r /opt/jdk1.8.0_162 root@hadoop3:/opt/</code> <br />\n <code>scp -r /etc/profile root@hadoop2:/etc/profile</code> <br />\n <code>scp -r /etc/profile root@hadoop3:/etc/profile</code></li>\n<li>7. 依次到 hadoop2 和 hadoop3 上生效环境变量  <code>source /etc/profile</code></li>\n</ul>\n<h2 id=\"安装hadoop\"><a class=\"anchor\" href=\"#安装hadoop\">#</a> 安装 Hadoop</h2>\n<p>下载好<span class=\"exturl\" data-url=\"aHR0cDovL2FyY2hpdmUuYXBhY2hlLm9yZy9kaXN0L2hhZG9vcC9jb3JlL2hhZG9vcC0zLjEuMC8=\"> hadoop3.1.0</span> 压缩包，放到 /opt/ 目录下<br />\n进入到软件包目录  <code>cd /opt/hadoop-package</code></p>\n<h3 id=\"解压hadoop-310安装包\"><a class=\"anchor\" href=\"#解压hadoop-310安装包\">#</a> 解压 hadoop-3.1.0 安装包</h3>\n<p>终端执行命令  <code>tar -zxvf hadoop-3.1.0.tar.gz -C /opt/</code></p>\n<h3 id=\"配置环境变量\"><a class=\"anchor\" href=\"#配置环境变量\">#</a> 配置环境变量</h3>\n<p>终端执行命令  <code>vim /etc/profile</code> <br />\n 在末尾添加四行</p>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">#SET HADOOP</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token assign-left variable\">HADOOP_HOME</span><span class=\"token operator\">=</span>/opt/hadoop-3.1.0</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token assign-left variable\"><span class=\"token environment constant\">PATH</span></span><span class=\"token operator\">=</span><span class=\"token variable\">$HADOOP_HOME</span>/bin:<span class=\"token variable\">$HADOOP_HOME</span>/sbin:<span class=\"token environment constant\">$PATH</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token builtin class-name\">export</span> HADOOP_HOME <span class=\"token environment constant\">PATH</span></pre></td></tr></table></figure><p>使环境变量生效  <code>source /etc/profile</code></p>\n<h3 id=\"修改core-sitexml配置文件\"><a class=\"anchor\" href=\"#修改core-sitexml配置文件\">#</a> 修改 core-site.xml 配置文件</h3>\n<ul>\n<li>1. 在终端执行命令  <code>vim /opt/hadoop-3.1.0/etc/hadoop/core-site.xml</code></li>\n<li>2. 在  <code>&lt;configuration&gt; &lt;/configuration&gt;</code>  中间添加下面代码</li>\n</ul>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token operator\">&lt;</span>property<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token operator\">&lt;</span>name<span class=\"token operator\">></span>fs.defaultFS<span class=\"token operator\">&lt;</span>/name<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token operator\">&lt;</span>value<span class=\"token operator\">></span>hdfs://hadoop1:900<span class=\"token operator\"><span class=\"token file-descriptor important\">0</span>&lt;</span>/value<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token operator\">&lt;</span>/property<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token operator\">&lt;</span>property<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token operator\">&lt;</span>name<span class=\"token operator\">></span>hadoop.tmp.dir<span class=\"token operator\">&lt;</span>/name<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token operator\">&lt;</span>value<span class=\"token operator\">></span>/opt/hadoop-3.1.0/tmp<span class=\"token operator\">&lt;</span>/value<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token operator\">&lt;</span>/property<span class=\"token operator\">></span></pre></td></tr></table></figure><h3 id=\"修改hdfs-sitexml配置文件\"><a class=\"anchor\" href=\"#修改hdfs-sitexml配置文件\">#</a> 修改 hdfs-site.xml 配置文件</h3>\n<ul>\n<li>1. 在终端执行命令  <code>vim /opt/hadoop-3.1.0/etc/hadoop/hdfs-site.xml</code></li>\n<li>2. 在  <code>&lt;configuration&gt; &lt;/configuration&gt;</code>  中间添加下面代码</li>\n</ul>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token operator\">&lt;</span>property<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token operator\">&lt;</span>name<span class=\"token operator\">></span>dfs.replication<span class=\"token operator\">&lt;</span>/name<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token operator\">&lt;</span>value<span class=\"token operator\">></span><span class=\"token operator\"><span class=\"token file-descriptor important\">3</span>&lt;</span>/value<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token operator\">&lt;</span>/property<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token operator\">&lt;</span>property<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token operator\">&lt;</span>name<span class=\"token operator\">></span>dfs.namenode.name.dir<span class=\"token operator\">&lt;</span>/name<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token operator\">&lt;</span>value<span class=\"token operator\">></span>file:///opt/hadoop-3.1.0/hdfs/name<span class=\"token operator\">&lt;</span>/value<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token operator\">&lt;</span>/property<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token operator\">&lt;</span>property<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token operator\">&lt;</span>name<span class=\"token operator\">></span>dfs.datanode.data.dir<span class=\"token operator\">&lt;</span>/name<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token operator\">&lt;</span>value<span class=\"token operator\">></span>file:///opt/hadoop-3.1.0/hdfs/data<span class=\"token operator\">&lt;</span>/value<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token operator\">&lt;</span>/property<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token operator\">&lt;</span>property<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token operator\">&lt;</span>name<span class=\"token operator\">></span>dfs.namenode.secondary.http-address<span class=\"token operator\">&lt;</span>/name<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre><span class=\"token operator\">&lt;</span>value<span class=\"token operator\">></span>hadoop2:900<span class=\"token operator\"><span class=\"token file-descriptor important\">1</span>&lt;</span>/value<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token operator\">&lt;</span>/property<span class=\"token operator\">></span></pre></td></tr></table></figure><h3 id=\"修改workers配置文件\"><a class=\"anchor\" href=\"#修改workers配置文件\">#</a> 修改 workers 配置文件</h3>\n<ul>\n<li>1. 在终端执行命令  <code>vim /opt/hadoop-3.1.0/etc/hadoop/workers</code></li>\n<li>2. 删除里面的 localhost，加入 <code>hadoop2</code>  和 <code>hadoop3</code></li>\n</ul>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>hadoop2</pre></td></tr><tr><td data-num=\"2\"></td><td><pre>hadoop3</pre></td></tr></table></figure><h3 id=\"修改mapred-sitexml配置文件\"><a class=\"anchor\" href=\"#修改mapred-sitexml配置文件\">#</a> 修改 mapred-site.xml 配置文件</h3>\n<ul>\n<li>1. 在终端执行命令  <code>vim /opt/hadoop-3.1.0/etc/hadoop/mapred-site.xml</code></li>\n<li>2. 在  <code>&lt;configuration&gt; &lt;/configuration&gt;</code>  中间添加下面代码</li>\n</ul>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token operator\">&lt;</span>property<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token operator\">&lt;</span>name<span class=\"token operator\">></span>mapreduce.framework.name<span class=\"token operator\">&lt;</span>/name<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token operator\">&lt;</span>value<span class=\"token operator\">></span>yarn<span class=\"token operator\">&lt;</span>/value<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token operator\">&lt;</span>/property<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token operator\">&lt;</span>property<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token operator\">&lt;</span>name<span class=\"token operator\">></span>mapreduce.application.classpath<span class=\"token operator\">&lt;</span>/name<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token operator\">&lt;</span>value<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>/opt/hadoop-3.1.0/etc/hadoop,</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>/opt/hadoop-3.1.0/share/hadoop/common/*,</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>/opt/hadoop-3.1.0/share/hadoop/common/lib/*,</pre></td></tr><tr><td data-num=\"11\"></td><td><pre>/opt/hadoop-3.1.0/share/hadoop/hdfs/*,</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>/opt/hadoop-3.1.0/share/hadoop/hdfs/lib/*,</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>/opt/hadoop-3.1.0/share/hadoop/mapreduce/*,</pre></td></tr><tr><td data-num=\"14\"></td><td><pre>/opt/hadoop-3.1.0/share/hadoop/mapreduce/lib/*,</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>/opt/hadoop-3.1.0/share/hadoop/yarn/*,</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>/opt/hadoop-3.1.0/share/hadoop/yarn/lib/*</pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token operator\">&lt;</span>/value<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre><span class=\"token operator\">&lt;</span>/property<span class=\"token operator\">></span></pre></td></tr></table></figure><h3 id=\"修改yarn-sitexml配置文件\"><a class=\"anchor\" href=\"#修改yarn-sitexml配置文件\">#</a> 修改 yarn-site.xml 配置文件</h3>\n<ul>\n<li>1. 在终端执行命令  <code>vim /opt/hadoop-3.1.0/etc/hadoop/yarn-site.xml</code></li>\n<li>2. 在  <code>&lt;configuration&gt; &lt;/configuration&gt;</code>  中间添加下面代码</li>\n</ul>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token operator\">&lt;</span>property<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token operator\">&lt;</span>name<span class=\"token operator\">></span>yarn.resourcemanager.hostname<span class=\"token operator\">&lt;</span>/name<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token operator\">&lt;</span>value<span class=\"token operator\">></span>hadoop<span class=\"token operator\"><span class=\"token file-descriptor important\">1</span>&lt;</span>/value<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token operator\">&lt;</span>/property<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token operator\">&lt;</span>property<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token operator\">&lt;</span>name<span class=\"token operator\">></span>yarn.nodemanager.aux-services<span class=\"token operator\">&lt;</span>/name<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token operator\">&lt;</span>value<span class=\"token operator\">></span>mapreduce_shuffle<span class=\"token operator\">&lt;</span>/value<span class=\"token operator\">></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token operator\">&lt;</span>/property<span class=\"token operator\">></span></pre></td></tr></table></figure><h3 id=\"修改hadoop-envsh配置文件\"><a class=\"anchor\" href=\"#修改hadoop-envsh配置文件\">#</a> 修改 hadoop-env.sh 配置文件</h3>\n<ul>\n<li>1. 在终端执行命令  <code>vim /opt/hadoop-3.1.0/etc/hadoop/hadoop-env.sh</code></li>\n<li>2. 在 hadoop-env.sh 配置文件的第二行添加下面代码</li>\n</ul>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">JAVA_HOME</span><span class=\"token operator\">=</span>/opt/jdk1.8.0_162</pre></td></tr></table></figure><h3 id=\"取消打印警告信息\"><a class=\"anchor\" href=\"#取消打印警告信息\">#</a> 取消打印警告信息</h3>\n<ul>\n<li>1. 在终端执行命令  <code>vim /opt/hadoop-3.1.0/etc/hadoop/log4j.properties</code></li>\n<li>2. 在打开的 log4j.properties 配置文件的首行添加下面代码</li>\n</ul>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>log4j.logger.org.apache.hadoop.util.NativeCodeLoader<span class=\"token operator\">=</span>ERROR</pre></td></tr></table></figure><h3 id=\"修改start-dfssh和stop-dfssh配置文件\"><a class=\"anchor\" href=\"#修改start-dfssh和stop-dfssh配置文件\">#</a> 修改 start-dfs.sh 和 stop-dfs.sh 配置文件</h3>\n<ul>\n<li>1. 在终端执行命令  <code>vim /opt/hadoop-3.1.0/sbin/start-dfs.sh</code></li>\n<li>2. 在打开的 start-dfs.sh 配置文件的第二行添加下面代码</li>\n</ul>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">HDFS_NAMENODE_SECURE_USER</span><span class=\"token operator\">=</span>root</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">HDFS_DATANODE_SECURE_USER</span><span class=\"token operator\">=</span>root</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">HDFS_SECONDARYNAMENODE_USER</span><span class=\"token operator\">=</span>root</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">HDFS_NAMENODE_USER</span><span class=\"token operator\">=</span>root</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">HDFS_DATANODE_USER</span><span class=\"token operator\">=</span>root</pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">HDFS_SECONDARYNAMENODE_USER</span><span class=\"token operator\">=</span>root</pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">YARN_RESOURCEMANAGER_USER</span><span class=\"token operator\">=</span>root</pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">YARN_NODEMANAGER_USER</span><span class=\"token operator\">=</span>root</pre></td></tr></table></figure><ul>\n<li>3. 在终端执行命令  <code>vim /opt/hadoop-3.1.0/sbin/stop-dfs.sh</code></li>\n<li>4. 在打开的 stop-dfs.sh 配置文件的第二行添加下面代码</li>\n</ul>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">HDFS_NAMENODE_SECURE_USER</span><span class=\"token operator\">=</span>root</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">HDFS_DATANODE_SECURE_USER</span><span class=\"token operator\">=</span>root</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">HDFS_SECONDARYNAMENODE_USER</span><span class=\"token operator\">=</span>root</pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">HDFS_NAMENODE_USER</span><span class=\"token operator\">=</span>root</pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">HDFS_DATANODE_USER</span><span class=\"token operator\">=</span>root</pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">HDFS_SECONDARYNAMENODE_USER</span><span class=\"token operator\">=</span>root</pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">YARN_RESOURCEMANAGER_USER</span><span class=\"token operator\">=</span>root</pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">YARN_NODEMANAGER_USER</span><span class=\"token operator\">=</span>root</pre></td></tr></table></figure><h3 id=\"修改start-yarnsh和stop-yarnsh配置文件\"><a class=\"anchor\" href=\"#修改start-yarnsh和stop-yarnsh配置文件\">#</a> 修改 start-yarn.sh 和 stop-yarn.sh 配置文件</h3>\n<ul>\n<li>1. 在终端执行命令  <code>vim /opt/hadoop-3.1.0/sbin/start-yarn.sh</code></li>\n<li>2. 在打开的 start-yarn.sh 配置文件的第二行添加下面代码</li>\n</ul>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">YARN_RESOURCEMANAGER_USER</span><span class=\"token operator\">=</span>root</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">HADOOP_SECURE_DN_USER</span><span class=\"token operator\">=</span>root</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">YARN_NODEMANAGER_USER</span><span class=\"token operator\">=</span>root</pre></td></tr></table></figure><ul>\n<li>3. 在终端执行命令  <code>vim /opt/hadoop-3.1.0/sbin/stop-yarn.sh</code></li>\n<li>4. 在打开的 stop-yarn.sh 配置文件的第二行添加下面代码</li>\n</ul>\n<figure class=\"highlight bash\"><figcaption data-lang=\"bash\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">YARN_RESOURCEMANAGER_USER</span><span class=\"token operator\">=</span>root</pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">HADOOP_SECURE_DN_USER</span><span class=\"token operator\">=</span>root</pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token builtin class-name\">export</span> <span class=\"token assign-left variable\">YARN_NODEMANAGER_USER</span><span class=\"token operator\">=</span>root</pre></td></tr></table></figure><h3 id=\"同步hadoop1主节点的配置到hadoop2和hadoop3上\"><a class=\"anchor\" href=\"#同步hadoop1主节点的配置到hadoop2和hadoop3上\">#</a> 同步 hadoop1 主节点的配置到 hadoop2 和 hadoop3 上</h3>\n<ul>\n<li>1、将 hadoop 配置文件同步到 hadoop2 上<br />\n在终端执行命令  <code>scp -r /opt/hadoop-3.1.0 root@hadoop2:/opt/</code> <br />\n 在终端执行命令  <code>scp -r /etc/profile root@hadoop2:/etc/profile</code> <br />\n 进入 hadoop2，在终端执行命令  <code>source /etc/profile</code></li>\n<li>2、将 hadoop 配置文件同步到 hadoop3 上<br />\n在终端执行命令  <code>scp -r /opt/hadoop-3.1.0 root@hadoop3:/opt/</code> <br />\n 在终端执行命令  <code>scp -r /etc/profile root@hadoop3:/etc/profile</code> <br />\n 进入 hadoop3，在终端执行命令  <code>source /etc/profile</code> <br />\n 返回 hadoop1 主节点</li>\n</ul>\n<h3 id=\"格式化hdfs文件系统\"><a class=\"anchor\" href=\"#格式化hdfs文件系统\">#</a> 格式化 HDFS 文件系统</h3>\n<p>在终端执行命令  <code>hdfs namenode -format</code> <br />\n 成功后截图：<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/1.10.png\" alt=\"\" /></p>\n<h2 id=\"启动集群\"><a class=\"anchor\" href=\"#启动集群\">#</a> 启动集群</h2>\n<ul>\n<li>在 hadoop1 主节点中进入 /opt/hadoop-3.1.0/sbin/ 目录  <code>cd /opt/hadoop-3.1.0/sbin/</code></li>\n<li>启动集群  <code>./start-all.sh</code></li>\n<li>在 3 台 hadoop 节点上执行 jps 命令查看 hadoop 进程\n<ul>\n<li>hadoop1 运行 <code>jps</code>  命令的截图<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/1.11.png\" alt=\"\" /></li>\n<li>hadoop2 运行 <code>jps</code>  命令的截图<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/1.12.png\" alt=\"\" /></li>\n<li>hadoop3 运行 <code>jps</code>  命令的截图<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/big-data_picture/1.13.png\" alt=\"\" /><br />\n到此，Hadoop3.1.0 集群已经成功安装完成！</li>\n</ul>\n</li>\n</ul>\n",
            "tags": [
                "计算机科学",
                "大数据技术原理与应用",
                "学习笔记",
                "大数据",
                "教程",
                "hadoop3.1.0"
            ]
        }
    ]
}