{
    "version": "https://jsonfeed.org/version/1",
    "title": "XYH",
    "subtitle": "",
    "icon": "http://www.xieyihui.top/images/favicon.ico",
    "description": "",
    "home_page_url": "http://www.xieyihui.top",
    "items": [
        {
            "id": "http://www.xieyihui.top/2020/11/17/computer-science/SSM/Day1/",
            "url": "http://www.xieyihui.top/2020/11/17/computer-science/SSM/Day1/",
            "title": "Day1 Mybatis入门",
            "date_published": "2020-11-17T13:13:05.000Z",
            "content_html": "<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><div class=\"note info\">\n<p>以下为个人学习笔记</p>\n</div>\n<h1 id=\"课堂笔记\"><a class=\"anchor\" href=\"#课堂笔记\">#</a> 课堂笔记</h1>\n<h2 id=\"创建-maven-工程\"><a class=\"anchor\" href=\"#创建-maven-工程\">#</a> 创建 maven 工程</h2>\n<p><img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/ssm_picture/1.png\" alt=\"\" /><br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/ssm_picture/2.png\" alt=\"\" /><br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/ssm_picture/3.png\" alt=\"\" /><br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/ssm_picture/4.png\" alt=\"\" /></p>\n<h2 id=\"添加-mybatis345-的坐标\"><a class=\"anchor\" href=\"#添加-mybatis345-的坐标\">#</a> 添加 Mybatis3.4.5 的坐标</h2>\n<p>在项目根目录下的  <code>pom.xml</code>  文件中添加  <code>Mybatis3.4.6</code>  的坐标，代码如下：</p>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">&lt;!-- 打包方式 --></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>packaging</span><span class=\"token punctuation\">></span></span>jar<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>packaging</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token comment\">&lt;!-- 导入 mybatis 坐标 --></span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependencies</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>org.mybatis<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>mybatis<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>version</span><span class=\"token punctuation\">></span></span>3.4.6<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>version</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>mysql<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>mysql-connector-java<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>version</span><span class=\"token punctuation\">></span></span>5.1.6<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>version</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>log4j<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>log4j<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>version</span><span class=\"token punctuation\">></span></span>1.2.17<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>version</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>groupId</span><span class=\"token punctuation\">></span></span>junit<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>groupId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>artifactId</span><span class=\"token punctuation\">></span></span>junit<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>artifactId</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>version</span><span class=\"token punctuation\">></span></span>4.12<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>version</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>\t\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>scope</span><span class=\"token punctuation\">></span></span>test<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>scope</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>\t<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependency</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dependencies</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><p>上述代码加载后将会将对应的  <code>jar</code>  包加载到  <code>External Libraries</code>  中<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/ssm_picture/5.png\" alt=\"\" /></p>\n<h2 id=\"编写-user-实体类\"><a class=\"anchor\" href=\"#编写-user-实体类\">#</a> 编写 User 实体类</h2>\n<p>在  <code>src/main/java</code>  下创建一个  <code>Java Class</code>  ，使其与表对应，命名为  <code>com.thxy.entity.User</code> <br />\n 右键 --&gt;&quot;new&quot;--&gt;&quot;Java Class&quot;<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/ssm_picture/6.png\" alt=\"\" /><br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/ssm_picture/7.png\" alt=\"\" /><br />\n 在实体类  <code>User.java</code>  中添加如下代码：</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">com<span class=\"token punctuation\">.</span>thxy<span class=\"token punctuation\">.</span>entity</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">User</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>\t</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>\t<span class=\"token comment\">// 注：属性类型要与数据库表的字段类型对应</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Integer</span> id<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">private</span> <span class=\"token class-name\">String</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Integer</span> <span class=\"token function\">getId</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token keyword\">return</span> id<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setId</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Integer</span> id<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>id <span class=\"token operator\">=</span> id<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">getName</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token keyword\">return</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">void</span> <span class=\"token function\">setName</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span> name<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>name <span class=\"token operator\">=</span> name<span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token annotation punctuation\">@Override</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token class-name\">String</span> <span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token string\">\"User&#123;\"</span> <span class=\"token operator\">+</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>                <span class=\"token string\">\"id=\"</span> <span class=\"token operator\">+</span> id <span class=\"token operator\">+</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>                <span class=\"token string\">\", name='\"</span> <span class=\"token operator\">+</span> name <span class=\"token operator\">+</span> <span class=\"token string\">'\\''</span> <span class=\"token operator\">+</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>                <span class=\"token string\">'&#125;'</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p><strong>表结构：</strong><br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/ssm_picture/8.png\" alt=\"\" /><br />\n<strong><span class=\"red\">附：</span></strong><br />\n<strong>JDBC 类型与 Java 类型</strong></p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">JDBC 类型</th>\n<th style=\"text-align:left\">Java Object 类型</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">CHAR</td>\n<td style=\"text-align:left\">java.lang.String</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">VARCHAR</td>\n<td style=\"text-align:left\">java.lang.String</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">LONGVARCHAR</td>\n<td style=\"text-align:left\">java.lang.String</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">NUMERIC</td>\n<td style=\"text-align:left\">java.math.BigDecimal</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">DECIMAL</td>\n<td style=\"text-align:left\">java.math.BigDecimal</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">BIT</td>\n<td style=\"text-align:left\">java.lang.Boolean</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">TINYINT</td>\n<td style=\"text-align:left\">java.lang.Integer</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">SMALLINT</td>\n<td style=\"text-align:left\">java.lang.Integer</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">INTEGER</td>\n<td style=\"text-align:left\">java.lang.Integer</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">BIGINT</td>\n<td style=\"text-align:left\">java.lang.Long</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">REAL</td>\n<td style=\"text-align:left\">java.lang.Float</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">FOAT</td>\n<td style=\"text-align:left\">java.lang.Double</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">DOUBLE</td>\n<td style=\"text-align:left\">java.lang.Double</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">BINARY</td>\n<td style=\"text-align:left\">byte[]</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">VARBINARY</td>\n<td style=\"text-align:left\">byte[]</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">LONGVARBINARY</td>\n<td style=\"text-align:left\">byte[]</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">DATE</td>\n<td style=\"text-align:left\">java.sql.Date</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">TIME</td>\n<td style=\"text-align:left\">java.sql.Time</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">TIMESTAMP</td>\n<td style=\"text-align:left\">java.sql.Timestamp</td>\n</tr>\n</tbody>\n</table>\n<p><strong>Java 类型与数据库表字段类型</strong></p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">Java 数据类型</th>\n<th style=\"text-align:center\">标准 SQL 数据类型 (PS: 对于不同的 DB 可能有所差异)</th>\n<th style=\"text-align:center\">Hibernate 数据类型</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">byte<br>java.lang.Byte</td>\n<td style=\"text-align:center\">TINYINT</td>\n<td style=\"text-align:center\">byte</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">byte[]</td>\n<td style=\"text-align:center\">VARBINARYBLOB</td>\n<td style=\"text-align:center\">binary</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">short<br>java.lang.Short</td>\n<td style=\"text-align:center\">SMALLINT</td>\n<td style=\"text-align:center\">short</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">int<br>java.lang.Integer</td>\n<td style=\"text-align:center\">INGEGER</td>\n<td style=\"text-align:center\">integer</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">long<br>java.lang.Long</td>\n<td style=\"text-align:center\">BIGINT</td>\n<td style=\"text-align:center\">long</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">float<br>java.lang.Float</td>\n<td style=\"text-align:center\">FLOAT</td>\n<td style=\"text-align:center\">float</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">double<br>java.lang.Double</td>\n<td style=\"text-align:center\">DOUBLE</td>\n<td style=\"text-align:center\">double</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">char<br>java.lang.Character</td>\n<td style=\"text-align:center\">CHAR(1)</td>\n<td style=\"text-align:center\">character</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">boolean<br>java.lang.Boolean</td>\n<td style=\"text-align:center\">BIT</td>\n<td style=\"text-align:center\">boolean</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">boolean<br>java.lang.Boolean</td>\n<td style=\"text-align:center\">CHAR (1)(‘Y’或‘N’)</td>\n<td style=\"text-align:center\">yes_no</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">boolean<br>java.lang.Boolean</td>\n<td style=\"text-align:center\">CHAR (1)(‘Y’或‘N’)</td>\n<td style=\"text-align:center\">true_false</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">java.lang.String</td>\n<td style=\"text-align:center\">VARCHAR</td>\n<td style=\"text-align:center\">string</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">java.lang.String</td>\n<td style=\"text-align:center\">CLOB</td>\n<td style=\"text-align:center\">text</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">java.lang.Class</td>\n<td style=\"text-align:center\">VARCHAR</td>\n<td style=\"text-align:center\">class</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">java.util.Date<br>java.sql.Date</td>\n<td style=\"text-align:center\">DATE</td>\n<td style=\"text-align:center\">date</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">java.util.Date<br>java.sql.Time</td>\n<td style=\"text-align:center\">TIME</td>\n<td style=\"text-align:center\">time</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">java.util.Date<br>java.sql.Timestamp</td>\n<td style=\"text-align:center\">TIMESTAMP</td>\n<td style=\"text-align:center\">timestamp</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">java.sql.Clob</td>\n<td style=\"text-align:center\">CLOB</td>\n<td style=\"text-align:center\">clob</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">java.sql.Blob</td>\n<td style=\"text-align:center\">BLOB</td>\n<td style=\"text-align:center\">blob</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">java.util.Calendar</td>\n<td style=\"text-align:center\">TIMESTAMP</td>\n<td style=\"text-align:center\">calendar</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">java.util.Calendar</td>\n<td style=\"text-align:center\">DATE</td>\n<td style=\"text-align:center\">calendar_date</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">java.util.Locale</td>\n<td style=\"text-align:center\">VARCHAR</td>\n<td style=\"text-align:center\">locale</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">java.util.TimeZone</td>\n<td style=\"text-align:center\">VARCHAR</td>\n<td style=\"text-align:center\">timezone</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">java.util.Currency</td>\n<td style=\"text-align:center\">VARCHAR</td>\n<td style=\"text-align:center\">currency</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">java.math.BigDecimal</td>\n<td style=\"text-align:center\">NUMERIC</td>\n<td style=\"text-align:center\">big_decimal</td>\n</tr>\n<tr>\n<td style=\"text-align:center\">java.io.Serializable</td>\n<td style=\"text-align:center\">VARBINARYBLOB</td>\n<td style=\"text-align:center\">serializable</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"编写持久层接口-iuserdao\"><a class=\"anchor\" href=\"#编写持久层接口-iuserdao\">#</a> 编写持久层接口 IUserDao</h2>\n<p>在  <code>src/main/java</code>  下创建一个  <code>Java Class</code>  ，使其与表对应，命名为  <code>com.thxy.dao.IUserDao</code> <br />\n 右键 --&gt;&quot;new&quot;--&gt;&quot;Java Class&quot;<br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/ssm_picture/9.png\" alt=\"\" /><br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/ssm_picture/10.png\" alt=\"\" /><br />\n 在实体类  <code>IUserDao.java</code>  中添加如下代码：</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// 用户持久层接口</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">com<span class=\"token punctuation\">.</span>thxy<span class=\"token punctuation\">.</span>dao</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">com<span class=\"token punctuation\">.</span>thxy<span class=\"token punctuation\">.</span>entity<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">User</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">List</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token comment\">// 用户持久层接口</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">IUserDao</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token comment\">// 遍历表所有记录</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">User</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">findAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><h2 id=\"编写持久层接口的映射文件-iuserdaoxml\"><a class=\"anchor\" href=\"#编写持久层接口的映射文件-iuserdaoxml\">#</a> 编写持久层接口的映射文件 IUserDao.xml</h2>\n<p>在  <code>src/main/resource</code>  下创建一个与接口映射的配置文件  <code>IUserDao.xml</code> <br />\n<span class=\"red\"> 注：</span><br />\n创建位置：必须和持久层接口在相同的包中，即如果你创建的持久层接口位于  <code>com/thxy/dao/</code>  下，那么你的映射文件也必须位于  <code>com/thxy/dao/</code>  下。<br />\n名称：必须以持久层接口名称命名文件名，扩展名是.xml，即如果你的持久层接口名称为  <code>IUserDao.java</code>  ，那么你的映射文件名称必须为  <code>IUserDao.xml</code> 。<br />\n在映射文件  <code>IUserDao.xml</code>  中添加如下代码：</p>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token prolog\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">mapper</span> <span class=\"token name\">PUBLIC</span> <span class=\"token string\">\"-//mybatis.org//DTD Mapper 3.0//EN\"</span> <span class=\"token string\">\"http://mybatis.org/dtd/mybatis-3-mapper.dtd\"</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>mapper</span> <span class=\"token attr-name\">namespace</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>com.thxy.dao.IUserDao<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token comment\">&lt;!-- 查询所有成员 --></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>\t<span class=\"token comment\">&lt;!-- </pre></td></tr><tr><td data-num=\"7\"></td><td><pre>\t&lt;select id=\"findAll\" resultType=\"com.thxy.entity.User\"></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>\t其中 id 的值为持久层接口中的方法名，返回值类型 resultType 的值为其持久层接口所对应的实体类全限定类名</pre></td></tr><tr><td data-num=\"9\"></td><td><pre>\t --></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>select</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>findAll<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">resultType</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>com.thxy.entity.User<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        select * from user;</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>select</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>mapper</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><h2 id=\"编写-sqlmapconfigxml-配置文件\"><a class=\"anchor\" href=\"#编写-sqlmapconfigxml-配置文件\">#</a> 编写 SqlMapConfig.xml 配置文件</h2>\n<p>在  <code>src/main/resource</code>  下创建 mybatis 的核心配置文件  <code>SqlMapConfig.xml</code> <br />\n 在映射文件  <code>SqlMapConfig.xml</code>  中添加如下代码：</p>\n<figure class=\"highlight xml\"><figcaption data-lang=\"XML\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token prolog\">&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?></span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token doctype\"><span class=\"token punctuation\">&lt;!</span><span class=\"token doctype-tag\">DOCTYPE</span> <span class=\"token name\">configuration</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>        <span class=\"token name\">PUBLIC</span> <span class=\"token string\">\"-//mybatis.org//DTD Config 3.0//EN\"</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>        <span class=\"token string\">\"http://mybatis.org/dtd/mybatis-3-config.dtd\"</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token comment\">&lt;!--Mybatis 的主配置文件 --></span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>configuration</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token comment\">&lt;!-- 配置环境 --></span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>environments</span> <span class=\"token attr-name\">default</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>mysql<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>        <span class=\"token comment\">&lt;!-- 配置 mysql 环境 --></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>environment</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>mysql<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>            <span class=\"token comment\">&lt;!-- 配置事务类型 --></span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>transactionManager</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>JDBC<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>transactionManager</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>            <span class=\"token comment\">&lt;!-- 配置数据源（连接池） --></span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>dataSource</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>POOLED<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>                <span class=\"token comment\">&lt;!-- 配置连接数据库的 4 个基本信息 --></span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>\t\t\t\t<span class=\"token comment\">&lt;!-- 驱动 --></span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>driver<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>com.mysql.jdbc.Driver<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>\t\t\t\t<span class=\"token comment\">&lt;!-- 驱动的 url 链接 --></span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>url<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>jdbc:mysql://localhost:3306/xyh<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>\t\t\t\t<span class=\"token comment\">&lt;!-- 数据库实例名 --></span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>username<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>root<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>\t\t\t\t<span class=\"token comment\">&lt;!-- 实例的登陆密码 --></span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>                <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>property</span> <span class=\"token attr-name\">name</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>password<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">value</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>xyh991007<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">/></span></span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>            <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>dataSource</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>environment</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>environments</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token comment\">&lt;!-- 指定映射配置文件的位置，映射配置文件指的是每个 dao 独立的配置文件 --></span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>mappers</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>mapper</span> <span class=\"token attr-name\">resource</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>com/thxy/dao/IUserDao.xml<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>mapper</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>mappers</span><span class=\"token punctuation\">></span></span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>configuration</span><span class=\"token punctuation\">></span></span></pre></td></tr></table></figure><h2 id=\"添加-log4jproperties-文件\"><a class=\"anchor\" href=\"#添加-log4jproperties-文件\">#</a> 添加 log4j.properties 文件</h2>\n<p>在  <code>src/main/resource</code>  下添加文件  <code>log4j.properties</code> <br />\n <code>log4j.properties</code>  文件中的代码如下：</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre>log4j<span class=\"token punctuation\">.</span>rootLogger<span class=\"token operator\">=</span>WARN<span class=\"token punctuation\">,</span> stdout<span class=\"token punctuation\">,</span> <span class=\"token class-name\">R</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>log4j<span class=\"token punctuation\">.</span>appender<span class=\"token punctuation\">.</span>stdout<span class=\"token operator\">=</span>org<span class=\"token punctuation\">.</span>apache<span class=\"token punctuation\">.</span>log4j<span class=\"token punctuation\">.</span><span class=\"token class-name\">ConsoleAppender</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>log4j<span class=\"token punctuation\">.</span>appender<span class=\"token punctuation\">.</span>stdout<span class=\"token punctuation\">.</span>layout<span class=\"token operator\">=</span>org<span class=\"token punctuation\">.</span>apache<span class=\"token punctuation\">.</span>log4j<span class=\"token punctuation\">.</span><span class=\"token class-name\">PatternLayout</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre># <span class=\"token class-name\">Pattern</span> <span class=\"token keyword\">to</span> <span class=\"token namespace\">output</span> the caller's file name and line number<span class=\"token punctuation\">.</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>#log4j<span class=\"token punctuation\">.</span>appender<span class=\"token punctuation\">.</span>stdout<span class=\"token punctuation\">.</span>layout<span class=\"token punctuation\">.</span><span class=\"token class-name\">ConversionPattern</span><span class=\"token operator\">=</span><span class=\"token operator\">%</span><span class=\"token number\">5</span>p <span class=\"token punctuation\">[</span><span class=\"token operator\">%</span>t<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">%</span><span class=\"token class-name\">F</span><span class=\"token operator\">:</span><span class=\"token operator\">%</span><span class=\"token class-name\">L</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span> <span class=\"token operator\">%</span>m<span class=\"token operator\">%</span>n</pre></td></tr><tr><td data-num=\"6\"></td><td><pre># <span class=\"token class-name\">Print</span> the date in ISO <span class=\"token number\">8601</span> format</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>log4j<span class=\"token punctuation\">.</span>appender<span class=\"token punctuation\">.</span>stdout<span class=\"token punctuation\">.</span>layout<span class=\"token punctuation\">.</span><span class=\"token class-name\">ConversionPattern</span><span class=\"token operator\">=</span><span class=\"token operator\">%</span>d <span class=\"token punctuation\">[</span><span class=\"token operator\">%</span>t<span class=\"token punctuation\">]</span> <span class=\"token operator\">%</span><span class=\"token operator\">-</span><span class=\"token number\">5</span>p <span class=\"token operator\">%</span>c <span class=\"token operator\">-</span> <span class=\"token operator\">%</span>m<span class=\"token operator\">%</span>n</pre></td></tr><tr><td data-num=\"8\"></td><td><pre>log4j<span class=\"token punctuation\">.</span>appender<span class=\"token punctuation\">.</span><span class=\"token class-name\">R</span><span class=\"token operator\">=</span>org<span class=\"token punctuation\">.</span>apache<span class=\"token punctuation\">.</span>log4j<span class=\"token punctuation\">.</span><span class=\"token class-name\">RollingFileAppender</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>log4j<span class=\"token punctuation\">.</span>appender<span class=\"token punctuation\">.</span><span class=\"token class-name\">R</span><span class=\"token punctuation\">.</span><span class=\"token class-name\">File</span><span class=\"token operator\">=</span>example<span class=\"token punctuation\">.</span>log</pre></td></tr><tr><td data-num=\"10\"></td><td><pre>log4j<span class=\"token punctuation\">.</span>appender<span class=\"token punctuation\">.</span><span class=\"token class-name\">R</span><span class=\"token punctuation\">.</span><span class=\"token class-name\">MaxFileSize</span><span class=\"token operator\">=</span><span class=\"token number\">100</span>KB</pre></td></tr><tr><td data-num=\"11\"></td><td><pre># <span class=\"token class-name\">Keep</span> one backup file</pre></td></tr><tr><td data-num=\"12\"></td><td><pre>log4j<span class=\"token punctuation\">.</span>appender<span class=\"token punctuation\">.</span><span class=\"token class-name\">R</span><span class=\"token punctuation\">.</span><span class=\"token class-name\">MaxBackupIndex</span><span class=\"token operator\">=</span><span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>log4j<span class=\"token punctuation\">.</span>appender<span class=\"token punctuation\">.</span><span class=\"token class-name\">R</span><span class=\"token punctuation\">.</span>layout<span class=\"token operator\">=</span>org<span class=\"token punctuation\">.</span>apache<span class=\"token punctuation\">.</span>log4j<span class=\"token punctuation\">.</span><span class=\"token class-name\">PatternLayout</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>log4j<span class=\"token punctuation\">.</span>appender<span class=\"token punctuation\">.</span><span class=\"token class-name\">R</span><span class=\"token punctuation\">.</span>layout<span class=\"token punctuation\">.</span><span class=\"token class-name\">ConversionPattern</span><span class=\"token operator\">=</span><span class=\"token operator\">%</span>p <span class=\"token operator\">%</span>t <span class=\"token operator\">%</span>c <span class=\"token operator\">-</span> <span class=\"token operator\">%</span>m<span class=\"token operator\">%</span>n</pre></td></tr><tr><td data-num=\"15\"></td><td><pre># <span class=\"token class-name\">Print</span> only messages of level WARN or above in the <span class=\"token keyword\">package</span> <span class=\"token namespace\">com<span class=\"token punctuation\">.</span>foo<span class=\"token punctuation\">.</span></span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>log4j<span class=\"token punctuation\">.</span>logger<span class=\"token punctuation\">.</span>com<span class=\"token punctuation\">.</span>foo<span class=\"token operator\">=</span>WARN</pre></td></tr></table></figure><p><strong>补充：</strong><br />\n1. 在 idea 中创建目录的时候，它和包是不一样的，其中包在创建时:  <code>com.thxy.dao</code>  它是三级结构，而目录在创建时:  <code>com.thxy.dao</code>  是一级目录<br />\n 2.mybatis 的映射配置文件位置必须和 dao 接口的包结构相同<br />\n 3. 映射配置文件的 mapper 标签 namespace 属性的取值必须是 dao 接口的全限定类名<br />\n 4. 映射配置文件的操作配置 (select)，id 属性的取值必须是 dao 接口的方法名<br />\n当我们遵从了 2、3、4 点之后，我们在开发中就无须再写 dao 的实现类。</p>\n<h2 id=\"编写测试类\"><a class=\"anchor\" href=\"#编写测试类\">#</a> 编写测试类</h2>\n<p>在  <code>src/test/java</code>  下创建一个  <code>Java Class</code>  ，命名为  <code>com.thxy.MybatisTest</code> <br />\n 在  <code>com.thxy.MybatisTest</code>  中添加如下代码：</p>\n<figure class=\"highlight java\"><figcaption data-lang=\"java\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">package</span> <span class=\"token namespace\">com<span class=\"token punctuation\">.</span>thxy</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre></pre></td></tr><tr><td data-num=\"3\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">com<span class=\"token punctuation\">.</span>thxy<span class=\"token punctuation\">.</span>dao<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">IUserDao</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">com<span class=\"token punctuation\">.</span>thxy<span class=\"token punctuation\">.</span>entity<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">User</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>apache<span class=\"token punctuation\">.</span>ibatis<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">Resources</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>apache<span class=\"token punctuation\">.</span>ibatis<span class=\"token punctuation\">.</span>session<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">SqlSession</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>apache<span class=\"token punctuation\">.</span>ibatis<span class=\"token punctuation\">.</span>session<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">SqlSessionFactory</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">org<span class=\"token punctuation\">.</span>apache<span class=\"token punctuation\">.</span>ibatis<span class=\"token punctuation\">.</span>session<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">SqlSessionFactoryBuilder</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre></pre></td></tr><tr><td data-num=\"10\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>io<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">InputStream</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">import</span> <span class=\"token namespace\">java<span class=\"token punctuation\">.</span>util<span class=\"token punctuation\">.</span></span><span class=\"token class-name\">List</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre><span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">MybatisTeat</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token keyword\">public</span> <span class=\"token keyword\">static</span> <span class=\"token keyword\">void</span> <span class=\"token function\">main</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> args<span class=\"token punctuation\">)</span> <span class=\"token keyword\">throws</span> <span class=\"token class-name\">Exception</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token comment\">//1. 读取配置文件</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>        <span class=\"token class-name\">InputStream</span> input <span class=\"token operator\">=</span> <span class=\"token class-name\">Resources</span><span class=\"token punctuation\">.</span><span class=\"token function\">getResourceAsStream</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"SqlMapConfig.xml\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token comment\">//2. 创建 SqlSessionFactory 工厂</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>        <span class=\"token class-name\">SqlSessionFactoryBuilder</span> builder <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">SqlSessionFactoryBuilder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token class-name\">SqlSessionFactory</span> factory <span class=\"token operator\">=</span> builder<span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span>input<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token comment\">//3. 使用工厂生产 SqlSession 对象</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>        <span class=\"token class-name\">SqlSession</span> session <span class=\"token operator\">=</span> factory<span class=\"token punctuation\">.</span><span class=\"token function\">openSession</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>        <span class=\"token comment\">//4. 使用 SqlSession 创建 Dao 接口的代理对象</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>        <span class=\"token class-name\">IUserDao</span> iUserDao <span class=\"token operator\">=</span> session<span class=\"token punctuation\">.</span><span class=\"token function\">getMapper</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">IUserDao</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token comment\">//5. 使用代理对象执行方法</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>        <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">User</span><span class=\"token punctuation\">></span></span> users <span class=\"token operator\">=</span> iUserDao<span class=\"token punctuation\">.</span><span class=\"token function\">findAll</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>        <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">User</span> user<span class=\"token operator\">:</span>users<span class=\"token punctuation\">)</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>            <span class=\"token class-name\">System</span><span class=\"token punctuation\">.</span>out<span class=\"token punctuation\">.</span><span class=\"token function\">println</span><span class=\"token punctuation\">(</span>user<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        <span class=\"token comment\">//6. 释放资源</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>        session<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>        input<span class=\"token punctuation\">.</span><span class=\"token function\">close</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure><p><strong>项目结构图：</strong><br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/ssm_picture/11.png\" alt=\"\" /><br />\n<strong>项目运行效果图：</strong><br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/ssm_picture/12.png\" alt=\"\" /><br />\n<strong>数据库 user 表的记录：</strong><br />\n<img data-src=\"https://picture-1303140728.cos.ap-guangzhou.myqcloud.com/blog_picture/ssm_picture/13.png\" alt=\"\" /></p>\n<h2 id=\"总结\"><a class=\"anchor\" href=\"#总结\">#</a> 总结</h2>\n<p>通过快速入门示例，我们发现使用 mybatis 是非常容易的一件事情，因为只需要编写 Dao 接口并且按照 mybatis 要求编写两个配置文件，就可以实现功能。远比我们之前的 jdbc 方便多了。</p>\n",
            "tags": [
                "计算机科学",
                "SSM轻量级框架",
                "学习笔记",
                "SSM",
                "MyBatis"
            ]
        }
    ]
}